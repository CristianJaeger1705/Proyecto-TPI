{% extends "base.html" %}
{% load static %}
{% block title %} Mis ofertas guardadas - LaburoSv {% endblock %}
{% block content %}
<div class="container my-5">
    <h2 class="fw-bold mb-4"><i class="bi bi-heart-fill text-danger"></i> Mis ofertas guardadas ({{ total_favoritos }})</h2>

    {% for o in ofertas %}
    <div class="card border-0 shadow-sm mb-3">
        <div class="card-body p-4">
            <div class="row align-items-center">
                <div class="col-auto">
                    <div class="bg-light border rounded p-2" style="width: 80px; height: 80px;">
                        {% if o.empresa.logo %}
                            <img src="{{ o.empresa.logo.url }}" class="img-fluid" style="max-height: 100%;">
                        {% else %}
                            <img src="{% static 'icon.png' %}" alt="Sin logo" class="img-fluid opacity-50">
                        {% endif %}
                    </div>
                </div>
                <div class="col">
                    <h5 class="fw-bold">{{ o.titulo }}</h5>
                    <p class="text-secondary">{{ o.empresa }} • {{ o.ubicacion }}</p>
                </div>
                <div class="col-auto">
                    <a href="{% url 'ofertas:detalleoferta' o.id %}" class="btn btn-primary">Ver oferta</a>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="text-center py-5 text-muted">
        <i class="bi bi-heart display-1"></i>
        <p>Aún no has guardado ninguna oferta.</p>
        <a href="{% url 'ofertas:lista_ofertas_publicas' %}" class="btn btn-primary">Explorar ofertas</a>
    </div>
    {% endfor %}
</div>
{% endblock %}